source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
PRG_DIR<- dirname(rstudioapi::getActiveDocumentContext()$path) # stock the current directory in PRG_DIR
PRG_DIR
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
PRG_DIR
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
function2readFname
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
View(D)
data.frame(D)
D = read.csv(fnameData, sep = ";")                               # file reading
View(D)
subset(D, sexe=0)
which(D$sexe==0)
D[,which(D$sexe==0)]
D[which(D$sexe==0),]
help reshape()
help reshape
? reshape
View(Indometh)
wide <- reshape(Indometh, v.names = "conc", idvar = "Subject",
timevar = "time", direction = "wide")
View(wide)
wide <- reshape(D, v.names = "rea", idvar = "dep",
timevar = "jour", direction = "wide")
w
View(wide)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
D <- reshape(D, v.names = "rea", idvar = "dep",
timevar = "jour", direction = "wide")
View(D)
R = rowSums(D)
View(D)
R = rowsum(D)
R = colsum(D)
R = colSums(D)
R = colSums(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
D <- reshape(D, v.names = "rea", idvar = "dep",
timevar = "jour", direction = "wide")
R = colSums(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
D <- reshape(D, v.names = "rea", idvar = "dep",
timevar = "jour", direction = "wide")
View(D)
D[nrow(D),]=NULL
D = D[-1,]
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
#from long to wide
D <- reshape(D, v.names = "rea", idvar = "dep",
timevar = "jour", direction = "wide")
#delete last line (error)
D = D[-nrow(D),]
View(D)
R = colSums(D)
R = rowSums(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
#from long to wide
D <- reshape(D, v.names = "rea", idvar = "jour",
timevar = "dep", direction = "wide")
#delete last line (error)
D = D[-nrow(D),]
View(D)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
#from long to wide
D <- reshape(D, v.names = "rea", idvar = "jour",
timevar = "dep", direction = "wide")
View(D)
rownames(D) <- D$jour
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$sexe = NULL
D$hosp = NULL
D$rad = NULL
D$dc = NULL
#from long to wide
D <- reshape(D, v.names = "rea", idvar = "jour",
timevar = "dep", direction = "wide")
#Get name
rownames(D) <- D$jour
D$jour = NULL
View(D)
D = D[,-ncol(D)]
View(D)
colSums(D)
rowSums(D)
sumD <- rowSums(D)
sumD
sumD <- rowSums(D)'
''
plot(sumD)
#Plot this
p <- plot(sumD)
p
print(p)
p <- ggplot(sumD)
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
p <- ggplot(sumD)
plot(sumD)
sumD
ggplot(sumD, aes(x=sumD[2,], y=sumD[1,])) + geom_point()
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
axis(1, at=c(0,50,100,150), labels=c(jour[0],jour[50],jour[100],jour[150]))
jour[0]
jour[,0]
jour[0,]
jour[0,1]
jour[1]
axis(1, at=c(0,50,100,150), labels=c(jour[,0+1],jour[50+1],jour[100+1],jour[150+1]))
labels=c(jour[,0+1],jour[50+1],jour[100+1],jour[150+1])
labels=c(jour[,1],jour[51],jour[101],jour[151])
labels
labels=c(jour[,1],jour[51],jour[101],jour[151])
jour[1]
axis(1, at=c(0,50,100,150), labels=c(jour[1],jour[51],jour[101],jour[151]))
labels=c(jour[1],jour[51],jour[101],jour[151])
labels
jour[1]
c(jour[1],jour[51],jour[101],jour[151])
c(jour[1])
jour[1]
jour
jour[1]
jour[1]
axis(1, at=c(0,50,100,150), labels=as.string(c(jour[1],jour[51],jour[101],jour[151])))
labels=c(jour[1],jour[51],jour[101],jour[151])
labels
jour[1]
print(jour[1])
jour1 = jour[1]
jour1
jour1 = as.string(jour[1])
jour1 = as.Date(jour[1])
jour14
jour1
labels=c(as.Date(jour[1]),as.Date(jour[51]),as.Date(jour[101]),as.Date(jour[151]))
labels
axis(1, at=c(0,50,100,150), labels=c(as.Date(jour[1]),as.Date(jour[51]),as.Date(jour[101]),as.Date(jour[151])))
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
plot(sumD, xaxt = "n")
axis(1, at=c(0,50,100,150), labels=c(as.Date(jour[1]),as.Date(jour[51]),as.Date(jour[101]),as.Date(jour[151])))
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
RES_DIR
fullfile(RES_DIR,"NbRea.png")
file.path(RES_DIR,"NbRea.png")
source('C:/Users/germain.faity/Desktop/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
D
NbRea
oldD = D
D = D[which(D$sexe==0),]
View(D)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
View(D)
D <- reshape(D, v.names = c("hosp","rea"), idvar = "jour",
timevar = "dep", direction = "wide")
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
# D$sexe = NULL
# D$hosp = NULL
# D$rad = NULL
# D$dc = NULL
#from long to wide
D <- reshape(D, v.names = c("hosp","rea"), idvar = "jour",
timevar = "dep", direction = "wide")
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
# D$sexe = NULL
# D$hosp = NULL
# D$rad = NULL
# D$dc = NULL
#from long to wide
D <- reshape(D, v.names = c("hosp"), idvar = "jour",
timevar = "dep", direction = "wide")
View(D)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
View(D)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
aggregate(cbind(D$hosp,D$rea,D$rad,D$dc), by=list(Category=D$dep), FUN=sum)
newD = aggregate(cbind(D$hosp,D$rea,D$rad,D$dc), by=list(Category=D$dep), FUN=sum)
View(newD)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
View(D)
D$dep = as.factor(D$dep)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$dep = as.factor(D$dep)
#newD = aggregate(cbind(D$hosp,D$rea,D$rad,D$dc), by=list(Category=D$dep), FUN=sum)
newD = aggregate(. ~ Category, D$dep, sum)
# Read data
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$dep = as.factor(D$dep)
#newD = aggregate(cbind(D$hosp,D$rea,D$rad,D$dc), by=list(Category=D$dep), FUN=sum)
newD = aggregate(. ~ dep, D, sum)
View(newD)
newD = aggregate(. ~ jour, D, sum)
View(newD)
which(D$jour=="27/06/2020")
D$jour[which(D$jour=="27/06/2020")]
D$jour[which(D$jour=="27/06/2020")]
D$jour[which(D$jour=="28/06/2020")]
D$jour[which(D$jour=="29/06/2020")]
D$jour[which(D$jour=="30/06/2020")]
D$jour[which(D$jour=="27/06/2020")] <- "2020-06-27"
D$jour[which(D$jour=="27/06/2020")]
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
###
#correct bug in data
D$jour[which(D$jour=="27/06/2020")] <- "2020-06-27"
D$jour[which(D$jour=="28/06/2020")] <- "2020-06-28"
D$jour[which(D$jour=="29/06/2020")] <- "2020-06-29"
#######################################################################################################################
# Arrange dataframe
oldD = D
D = D[which(D$sexe==0),]
D$dep = as.factor(D$dep)
#newD = aggregate(cbind(D$hosp,D$rea,D$rad,D$dc), by=list(Category=D$dep), FUN=sum)
newD = aggregate(. ~ jour, D, sum)
View(newD)
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
###
#correct bug in data
D$jour[which(D$jour=="27/06/2020")] <- "2020-06-27"
D$jour[which(D$jour=="28/06/2020")] <- "2020-06-28"
D$jour[which(D$jour=="29/06/2020")] <- "2020-06-29"
#######################################################################################################################
# Arrange dataframe
D = D[which(D$sexe==0),]              #delete sexes
D$dep = as.factor(D$dep)
D = aggregate(. ~ jour, D, sum)       #delete departments
View(D)
plot(D$rea, xaxt = "n")
plot(D$rea, xaxt = "n", ytitle = "Number of person in reanimation in France")
plot(D$rea, xaxt = "n", ylab = "Number of person in reanimation in France")
plot(D$rea, xaxt = "n", xlab = "Date", ylab = "Number of person in reanimation in France")
plot(D$rea, xaxt = "n", xlab = "Date", ylab = "Number of person in reanimation in France")
axis(1, at=c(0,50,100,150), labels=c(as.Date(jour[1]),as.Date(jour[51]),as.Date(jour[101]),as.Date(jour[151])))
plot(D$rea, xaxt = "n", xlab = "Date", ylab = "Number of person in reanimation in France")
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])))
plot(D$rea, xaxt = "n", xlab = "Date", ylab = "Number of person in reanimation in France")
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])))
plot(D$hosp, xaxt = "n", xlab = "Date", ylab = "Number of person hospitalised in France")
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])))
#plot
plot(D$rad, xaxt = "n", xlab = "Date", ylab = "Number of person cured in France")
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])))
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
