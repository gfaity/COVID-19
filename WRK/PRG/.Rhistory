DDpt = aggregate(. ~ jour, DDpt, sum)   #aggregate by this department
D = DDpt
D
DCscale
RadScale
ReaScale
HospScale
Hab
if(missing(Hab)) {Hab = 1}
#Results in part per 100 000 habitants
if(!is_empty(scale)){
Hab = Hab*100000
} else {
Hab = 1
}
is_empty(scale)
Hab
Hab = Hab/100000
Hab
if(missing(Hab)) {Hab = 1}
#Results in part per 100 000 habitants
if(!is_empty(scale)){
Hab = Hab/100000
} else {
Hab = 1
}
Hab
is_empty(scale)
plot(D$hosp/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of person hospitalised in",Dpt), ylim = scale)
scale
scale = HospScale
plot(D$hosp/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of person hospitalised in",Dpt), ylim = scale)
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
D = read.csv(fnameData, sep = ";")                    # file reading
cat(paste("Data imported from : ", fnameData, "\n"))  # inform user
###
#correct bug in data
D$jour[which(D$jour=="27/06/2020")] <- "2020-06-27"
D$jour[which(D$jour=="28/06/2020")] <- "2020-06-28"
D$jour[which(D$jour=="29/06/2020")] <- "2020-06-29"
# Arrange dataframe
D = D[which(D$sexe==0),]            #delete sexes
D$dep = as.factor(D$dep)
Dfull = D                            #save for later use
#######################################################################################################################
#Ask for scale
# TRUE = results exprimed in % of population of department
# FALSE = scale is department specific
InPrct = TRUE #FALSE
#######################################################################################################################
#Begin plots
Dpt = "Herault"
nDpt = 34
if (missing(InPrct)) {InPrct=FALSE}
# Read number of habitants of department
if (nDpt!=0) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
} else {
df = read.csv(file.path(DAT_DIR,"habitants.csv"),sep=";")
Hab = sum(df$hab)
}
Hab
InPrct
DptMax = Dfull[which(Dfull$rea==max(Dfull$rea)),]
nDptMax = DptMax$dep
nDptMax
DptMax
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDptMax,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
HabMax = as.integer(HabLine[2])
HabMax = HabMax/100000  #Patients per 100 000 habitants
HabMax
DptMax$hosp/HabMax
DptMax$rea/HabMax
DptMax$rad/HabMax
DptMax$dc/HabMax
DptMax$dc
nDpt = Dfull$dep[which(Dfull$rea==max(Dfull$rea))]
Dpt = as.character(nDpt)
nDpt
Dpt
# Read number of habitants of department
if (nDpt!=0) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
} else {
df = read.csv(file.path(DAT_DIR,"habitants.csv"),sep=";")
Hab = sum(df$hab)
}
Hab
DptMax = Dfull[which(Dfull$rea==max(Dfull$rea)),]
nDptMax = DptMax$dep
#find population of this department
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDptMax,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
HabMax = as.integer(HabLine[2])
HabMax = HabMax/100000  #Patients per 100 000 habitants
#Set scale
HospScale = c(0,DptMax$hosp/HabMax)
ReaScale = c(0,DptMax$rea/HabMax)
RadScale = c(0,DptMax$rad/HabMax)
DCscale = c(0,DptMax$dc/HabMax)
HospScale
#Init
if ((Dpt == "France") | (nDpt == 0)) {
DDpt = Dfull                            #select all France
} else {
DDpt = Dfull[which(Dfull$dep==nDpt),]   #select departement
}
DDpt = aggregate(. ~ jour, DDpt, sum)   #aggregate by this department
D = DDpt
if(missing(Hab)) {Hab = 1}
#Results in part per 100 000 habitants
if(!is_empty(scale)){
Hab = Hab/100000
} else {
Hab = 1
}
Hab
D$dc
D$dc/Hab
View(Dfull)
ReadInhab <- function(nDpt) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
Hab #return number of inhabitants
}
DptMax = Dfull[which(Dfull$rea==max(Dfull$rea)),]
nDptMax = DptMax$dep
#find population of this department
HabMax = ReadInhab(nDptMax)/100000  #Patients per 100 000 habitants
#Set scale
ReaScale = c(0,DptMax$rea/HabMax)
DptMax
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
debugSource('~/GitHub/COVID-19/WRK/PRG/Main.R')
ReadInhab <- function(nDpt) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
Hab #return number of inhabitants
}
if (missing(InPrct)) {InPrct=FALSE}
# Read number of habitants of department
if (nDpt!=0) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
} else {
df = read.csv(file.path(DAT_DIR,"habitants.csv"),sep=";")
Hab = sum(df$hab)
}
#Scale (y Max)
if (InPrct) {
#Hosp
#find worse department
DptMax = Dfull[which(Dfull$hosp==max(Dfull$hosp)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
HospScale = c(0,DptMax$hosp/HabMax)
#Rea
#find worse department
DptMax = Dfull[which(Dfull$rea==max(Dfull$rea)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
ReaScale = c(0,DptMax$rea/HabMax)
#Rad
#find worse department
DptMax = Dfull[which(Dfull$rad==max(Dfull$rad)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
RadScale = c(0,DptMax$rad/HabMax)
#DC
#find worse department
DptMax = Dfull[which(Dfull$dc==max(Dfull$dc)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
DCscale = c(0,DptMax$dc/HabMax)
} else {
HospScale = {}
ReaScale = {}
RadScale = {}
DCscale = {}
}
#Init
if ((Dpt == "France") | (nDpt == 0)) {
DDpt = Dfull                            #select all France
} else {
DDpt = Dfull[which(Dfull$dep==nDpt),]   #select departement
}
DDpt = aggregate(. ~ jour, DDpt, sum)   #aggregate by this department
D = DDpt
InPrct = TRUE
if (missing(InPrct)) {InPrct=FALSE}
# Read number of habitants of department
if (nDpt!=0) {
Habtxt = readLines(file.path(DAT_DIR,"habitants.csv"), warn = FALSE)
lineToRead = grep(paste("^",nDpt,sep=""),Habtxt)
HabLine = read.csv(text=Habtxt[lineToRead],sep=";",header=FALSE)
Hab = as.integer(HabLine[2])
} else {
df = read.csv(file.path(DAT_DIR,"habitants.csv"),sep=";")
Hab = sum(df$hab)
}
#Scale (y Max)
if (InPrct) {
#Hosp
#find worse department
DptMax = Dfull[which(Dfull$hosp==max(Dfull$hosp)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
HospScale = c(0,DptMax$hosp/HabMax)
#Rea
#find worse department
DptMax = Dfull[which(Dfull$rea==max(Dfull$rea)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
ReaScale = c(0,DptMax$rea/HabMax)
#Rad
#find worse department
DptMax = Dfull[which(Dfull$rad==max(Dfull$rad)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
RadScale = c(0,DptMax$rad/HabMax)
#DC
#find worse department
DptMax = Dfull[which(Dfull$dc==max(Dfull$dc)),]
#find population of this department
HabMax = ReadInhab(DptMax$dep)/100000  #Patients per 100 000 habitants
#Set scale
DCscale = c(0,DptMax$dc/HabMax)
} else {
HospScale = {}
ReaScale = {}
RadScale = {}
DCscale = {}
}
#Init
if ((Dpt == "France") | (nDpt == 0)) {
DDpt = Dfull                            #select all France
} else {
DDpt = Dfull[which(Dfull$dep==nDpt),]   #select departement
}
DDpt = aggregate(. ~ jour, DDpt, sum)   #aggregate by this department
D = DDpt
scale = HospScale
if(missing(Hab)) {Hab = 1}
#Results in part per 100 000 habitants
if(is_empty(scale)){
Hab = 1
} else {
Hab = Hab/100000
}
#Prepare for export in PNG
if(is_empty(scale)){
Prct = "per1_"
} else {
Prct = "per100000_"
}
png(file=file.path(RES_DIR,paste(Prct,Dpt,"_NbRea.png", sep =""), sep=""),
width=600, height=350)
#plot
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
dev.off()
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
dev.off()
dev.off()
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
D$jour
D$jour[201]
axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151],as.Date(D$jour[201]))))
as.Date(D$jour[201])
c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151],as.Date(D$jour[201]))
)
as.Date(D$jour[201])
c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151],as.Date(D$jour[201])))
c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])
)
c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151],as.Date(D$jour[201]))
)
c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151],as.Date(D$jour[201])))
D$jour
View(D$jour)
226: reconfinement - 214: couvre feu
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151])))
axis(1, at=c(0,50,100,150), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201]),as.Date(D$jour[214]),as.Date(D$jour[226])))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201]),"couvre-feu","reconfinement"))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201]),"couvre-feu","reconfinement"))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201]),as.Date("couvre-feu"),as.Date("reconfinement")))
D$jour[1]
as.c  axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement")))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement")))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement")))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,90,180,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[91]),as.character(D$jour[181]),as.character("couvre-feu"),as.character("reconfinement")))
#plot
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,90,180,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[91]),as.character(D$jour[181]),as.character("couvrfeu"),as.character("reconf")))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,90,180,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[91]),as.character(D$jour[181]),as.character("couvrfeu"),as.character("reconf")))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200,213,225), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement")))
D$jour[$]
length(D$jour)
D$jour[length(D$jour)]
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=2, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.5, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(D$jour[1]),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
View(D$jour)
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(D$jour[1]+"\nConfinement"),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character("couvre-feu"),as.character("reconfinement"),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character(paste(D$jour[214],"couvre-feu")),as.character(paste(D$jour[226],"reconfinement")),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,50,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),as.character(D$jour[51]),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character(paste(D$jour[214],"\ncouvre-feu")),as.character(paste(D$jour[226],"\nreconfinement")),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,55,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),paste(as.character(D$jour[56],"\nDeconfinement")),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character(paste(D$jour[214],"\ncouvre-feu")),as.character(paste(D$jour[226],"\nreconfinement")),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,55,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),paste(as.character(D$jour[56],"\nDeconfinement")),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character(paste(D$jour[214],"\ncouvre-feu")),as.character(paste(D$jour[226],"\nreconfinement")),as.character(D$jour[length(D$jour)])))
if (is_empty(scale)) {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = paste("Number of persons in reanimation in",Dpt), ylim = NULL)
} else {
plot(D$rea/Hab, xaxt = "n", xlab = "Date", ylab = "", ylim = scale)
title(ylab=paste("Number of persons in reanimation in ",Dpt,"\n(Persons per 100 000 inhabitants)", sep=""), line=2)
}
par(las=2)
#axis(1, at=c(0,50,100,150,200), labels=c(as.Date(D$jour[1]),as.Date(D$jour[51]),as.Date(D$jour[101]),as.Date(D$jour[151]),as.Date(D$jour[201])))
axis(1, cex.axis=0.7, at=c(0,55,100,150,200,213,225,length(D$jour)), labels=c(as.character(paste(D$jour[1],"\nConfinement")),as.character(paste(D$jour[56],"\nDeconfinement")),as.character(D$jour[101]),as.character(D$jour[151]),as.character(D$jour[201]),as.character(paste(D$jour[214],"\ncouvre-feu")),as.character(paste(D$jour[226],"\nreconfinement")),as.character(D$jour[length(D$jour)])))
cloc
close
close()
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
source('~/GitHub/COVID-19/WRK/PRG/Main.R')
